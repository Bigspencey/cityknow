<div class="container">
  <%= link_to "Back to City Page", city_path(@city) %>
  <br/><br/>

  <%= link_to 'Upvote', votes_path(:voteable_id => @question.id, :voteable_type => "Question"), remote: true, method: :post, :class => 'vote-question' %>

  <div class="vote-count-question">
    <p><%= pluralize(@question.votes.count, 'Vote') %></p>
  </div>

  <h3><%= @question.title %> </h3>
  <p><%= @question.body %></p>

  <% if current_user && current_user.id == @question.user_id %>
    <%= link_to "Edit Question", edit_city_question_path(@city, @question) %> | <%= link_to "Delete Question", city_question_path(@city, @question), :method => 'delete' %>
  <% end %>
  <br/><br/><br/>
  <h2>Answers</h2>

  <% @question.answers.each do |answer| %>
  <div class="answer">

    <%= link_to 'Upvote', votes_path(:voteable_id => answer.id, :voteable_type => "Answer"), remote: true, method: :post, :class => 'vote-answer' %>

    <div class="vote-count-answer">
      <p><%= pluralize(answer.votes.count, 'Vote') %></p>
    </div>

    <p class="answer-body"><%= answer.body %></p>
    <small class="answer-user">Posted by <%= answer.user.name  unless answer.user.nil? %></small>
    <% if current_user && current_user.id == answer.user_id %>
      <%= link_to "Edit Answer", edit_city_question_answer_path(@city, @question, answer) %> | <%= link_to "Delete Answer", city_question_answer_path(@city, @question, answer), :method => 'delete' %>
    <% end %>
  </div>
  <% end %>
  <br/><br/>
  <% if user_signed_in? %>
    <%= render :template => 'answers/new' %>
  <% end %>
</div>